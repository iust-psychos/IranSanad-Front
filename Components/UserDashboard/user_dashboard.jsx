import React, { useState } from "react";
import { Menu } from "@base-ui-components/react/menu";
import { Card, CardContent } from "@mui/joy";
import { Button } from "@mui/material";
import { Input } from "@mui/material";
import { Search, MoreVert } from "@mui/icons-material";
import "./user_dashboard.css";

const initialDocuments = [
  {
    id: 1,
    name: "تکلیف درس ریاضی 2",
    owner: "من",
    last_modified_date: "1403/12/06",
    last_opened_date: "11:30",
  },
  {
    id: 2,
    name: "تکلیف درس ریاضی 1",
    owner: "a.Sadeghy",
    last_modified_date: "1403/12/08",
    last_opened_date: "1403/11/07",
  },
  {
    id: 3,
    name: "چک لیست سفر",
    owner: "h.Sadat",
    last_modified_date: "1403/12/10",
    last_opened_date: "19:45",
  },
  {
    id: 4,
    name: "گزارش پروژه هوش",
    owner: "E.Hemmaty",
    last_modified_date: "1403/12/13",
    last_opened_date: "",
  },
];

export default function UserDashboard() {
  return (
    <div className="user-dashboard">
      <menu className="navbar">
        <button className="menu-logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="84"
            height="55"
            fill="none"
            viewBox="0 0 84 55"
          >
            <path
              fill="#fff"
              d="m6.58 9.9 1.515 1.515L6.58 12.93l-1.515-1.515L6.58 9.9Zm.114 9.65c.864 0 1.544-.14 2.04-.42.496-.28.847-.657 1.05-1.13a3.848 3.848 0 0 0 .316-1.585c0-.642-.1-1.299-.298-1.97a19.783 19.783 0 0 0-.648-1.866l2.172-.823c.327.852.558 1.646.692 2.382.14.73.21 1.465.21 2.207 0 1.127-.207 2.102-.622 2.925a4.364 4.364 0 0 1-1.856 1.918c-.817.455-1.836.683-3.056.683-1.261 0-2.295-.24-3.1-.718a4.377 4.377 0 0 1-1.778-1.936c-.38-.817-.57-1.734-.57-2.75 0-.683.074-1.386.22-2.11.151-.73.364-1.45.639-2.163l1.988.77a19.043 19.043 0 0 0-.517 1.778 7.07 7.07 0 0 0-.21 1.647c0 .578.1 1.106.298 1.585.204.479.548.86 1.033 1.147.485.286 1.15.429 1.997.429Zm9.694-13.784v12.225h-2.19V5.766h2.19ZM23.428 18c-.28 0-.54-.032-.779-.096a2.178 2.178 0 0 1-.595-.245 6.2 6.2 0 0 1-.867 2.346 5.578 5.578 0 0 1-1.76 1.743c-.73.473-1.609.812-2.636 1.016l-.806-2.154c.864-.193 1.597-.45 2.198-.771.607-.315 1.068-.733 1.384-1.252.315-.52.473-1.168.473-1.944 0-.526-.08-1.11-.237-1.752a19.695 19.695 0 0 0-.517-1.813l2.172-.718.508 1.953c.105.403.26.727.464.972.21.24.511.36.902.36h.342V18h-.245Zm-.104-2.356h1.322V18h-1.322v-2.356ZM25.81 18h-1.402v-2.356h1.402c.473 0 .794-.143.963-.429.175-.286.263-.65.263-1.094 0-.392-.047-.818-.14-1.279a72.096 72.096 0 0 0-.272-1.375l2.145-.552c.111.532.199 1.06.263 1.586.064.52.097 1.015.097 1.488 0 .765-.103 1.451-.307 2.058a2.836 2.836 0 0 1-1.033 1.428c-.485.35-1.145.525-1.98.525Zm1.296 1.174 1.445 1.436-1.445 1.453-1.445-1.453 1.445-1.436Zm-2.96 0 1.462 1.436-1.462 1.453-1.428-1.453 1.428-1.436Zm9.142-13.408v12.225H31.1V5.766h2.19ZM5.95 42.331c0-.146-.035-.339-.105-.578a3.779 3.779 0 0 0-.21-.605l-1.69-3.774 1.944-.937 2.137 4.957c.192.45.365.843.516 1.182.152.338.319.601.5.788.18.187.408.28.683.28h.367V46h-.367c-.444 0-.824-.056-1.139-.166a2.754 2.754 0 0 1-.823-.482 4.6 4.6 0 0 1-.657-.718 4.19 4.19 0 0 1-.99.744 4.61 4.61 0 0 1-1.252.464c-.467.1-.995.15-1.585.15-.49 0-.913-.018-1.27-.053a7.865 7.865 0 0 1-1.068-.184v-2.347c.362.082.736.146 1.121.192.385.047.747.07 1.086.07.484 0 .94-.04 1.366-.122.426-.088.77-.228 1.033-.42a.941.941 0 0 0 .403-.797Zm6.305-2.19 2.05-.245.175 2.417c.017.304.079.555.184.753.11.199.271.345.481.438.21.094.479.14.806.14h.184V46h-.202a3.55 3.55 0 0 1-1.068-.149 2.839 2.839 0 0 1-1.454-1.024 3.502 3.502 0 0 1-1.26.867 4.035 4.035 0 0 1-1.568.306h-.84v-2.356h.84c.66 0 1.118-.12 1.375-.359.257-.24.385-.662.385-1.27 0-.327-.009-.645-.026-.954a15.124 15.124 0 0 0-.062-.92Zm.42-4.58 1.516 1.515-1.515 1.515-1.515-1.515 1.515-1.515ZM21.888 46c-.607 0-1.109-.102-1.506-.306-.391-.21-.71-.49-.954-.841a3.427 3.427 0 0 1-1.13.84c-.438.205-1.007.307-1.708.307h-.805v-2.356h.823c.444 0 .8-.035 1.068-.105.269-.07.464-.21.587-.42.128-.216.192-.534.192-.955a7.86 7.86 0 0 0-.017-.438 15.136 15.136 0 0 0-.035-.656 94.44 94.44 0 0 0-.053-.7l2.05-.255.183 2.268c.03.409.15.721.36.937.216.216.537.324.963.324.514 0 .855-.11 1.024-.332.176-.228.263-.61.263-1.148 0-.087-.006-.23-.017-.429-.006-.198-.018-.42-.035-.665a94.44 94.44 0 0 0-.053-.7l2.05-.255.183 2.268c.023.38.12.686.29.92.169.228.452.341.849.341.245 0 .438-.067.578-.201.146-.134.248-.312.306-.534.064-.228.096-.476.096-.745 0-.327-.029-.66-.087-.998-.053-.344-.114-.66-.184-.946l-.158-.639 2.11-.578c.118.45.214.928.29 1.436.076.502.114 1.004.114 1.506a6.62 6.62 0 0 1-.29 1.98c-.186.618-.501 1.12-.945 1.506-.438.38-1.045.569-1.822.569-.53 0-.975-.108-1.33-.324a3.07 3.07 0 0 1-.894-.84c-.303.35-.648.633-1.033.849-.38.21-.82.315-1.323.315Z"
            />
            <path fill="#D9D9D9" d="M38.261 5.978H82.5v44.239H38.261z" />
            <path
              stroke="#000"
              stroke-width="1.196"
              d="m38.684 5.556 44.239 44.239m0-43.394L38.684 50.64"
            />
          </svg>
        </button>
        <button className="menu-profile">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="50"
            height="50"
            fill="none"
            viewBox="0 0 53 53"
          >
            <g clip-path="url(#a)">
              <path
                fill="#fff"
                d="M36.132 22.993a9.841 9.841 0 0 1-9.854 9.854 9.841 9.841 0 0 1-9.854-9.854 9.841 9.841 0 0 1 9.854-9.854 9.841 9.841 0 0 1 9.854 9.854Z"
              />
              <path
                fill="#fff"
                fill-rule="evenodd"
                d="M52.556 26.278c0 14.518-11.76 26.278-26.278 26.278C11.759 52.556 0 40.796 0 26.278 0 11.759 11.76 0 26.278 0c14.518 0 26.278 11.76 26.278 26.278ZM13.139 45.165c.525-.874 5.617-9.033 13.106-9.033 7.456 0 12.58 8.179 13.106 9.033a22.928 22.928 0 0 0 9.887-18.887c0-12.712-10.281-22.993-22.993-22.993-12.712 0-22.993 10.28-22.993 22.993a22.941 22.941 0 0 0 9.887 18.887Z"
                clip-rule="evenodd"
              />
            </g>
            <defs>
              <clipPath id="a">
                <path fill="#fff" d="M0 0h52.556v52.556H0z" />
              </clipPath>
            </defs>
          </svg>
        </button>
      </menu>
      <menu className="utility">
        <div className="menu-search">
          <button>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="none"
              viewBox="0 0 31 29"
            >
              <path
                fill="#000"
                d="M29.3 29 17.673 17.917a10.337 10.337 0 0 1-3.202 1.75c-1.207.413-2.42.62-3.64.62-2.972 0-5.488-.981-7.548-2.944C1.225 15.381.195 12.983.195 10.15c0-2.835 1.029-5.234 3.086-7.199C5.338.986 7.853.002 10.825 0c2.973-.002 5.49.98 7.553 2.945 2.062 1.966 3.093 4.365 3.093 7.198 0 1.23-.229 2.42-.686 3.57-.456 1.15-1.056 2.135-1.8 2.953l11.625 11.08L29.3 29ZM10.834 18.515c2.463 0 4.542-.808 6.238-2.425 1.695-1.616 2.543-3.6 2.543-5.948 0-2.35-.848-4.332-2.543-5.947-1.696-1.616-3.775-2.424-6.238-2.425-2.463-.001-4.543.807-6.24 2.425-1.697 1.617-2.544 3.6-2.543 5.947.001 2.347.849 4.329 2.543 5.947 1.695 1.617 3.774 2.426 6.238 2.424"
              />
            </svg>
          </button>
          <input type="text" placeholder="جست و جو" />
        </div>
        {/* <button className="menu-button menu-sort">
          <p>مرتب سازی بر اساس</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="8"
            height="6"
            fill="none"
            viewBox="0 0 8 6"
          >
            <path fill="#fff" d="M4 5.5 8 0H0l4 5.5Z" />
          </svg>
        </button> */}
        <Menu.Root openOnHover>
          <Menu.Trigger className="menu-button menu-sort">
            مرتب سازی بر اساس
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="8"
              height="6"
              fill="none"
              viewBox="0 0 8 6"
            >
              <path fill="#fff" d="M4 5.5 8 0H0l4 5.5Z" />
            </svg>
          </Menu.Trigger>
          <Menu.Portal>
            <Menu.Positioner sideOffset={8}>
              <Menu.Popup className="user-dashboard-dropdown dropdown-menu">
                {/* <Menu.Arrow></Menu.Arrow> */}
                <Menu.Item className="user-dashboard-dropdown dropdown-item">
                  تاریخ آخرین بازدید
                </Menu.Item>
                <Menu.Item className="user-dashboard-dropdown dropdown-item">
                  تاریخ آخرین تغییر
                </Menu.Item>
              </Menu.Popup>
            </Menu.Positioner>
          </Menu.Portal>
        </Menu.Root>
        <button className="menu-button menu-create">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            fill="none"
            viewBox="0 0 18 18"
          >
            <path
              fill="#fff"
              d="M16.5 0h-15A1.5 1.5 0 0 0 0 1.5v15A1.5 1.5 0 0 0 1.5 18h15a1.5 1.5 0 0 0 1.5-1.5v-15A1.5 1.5 0 0 0 16.5 0Zm-2.25 9.75h-4.5v4.5a.75.75 0 1 1-1.5 0v-4.5h-4.5a.75.75 0 0 1 0-1.5h4.5v-4.5a.75.75 0 0 1 1.5 0v4.5h4.5a.75.75 0 1 1 0 1.5Z"
            />
          </svg>
          <p>ایجاد یک سند جدید</p>
        </button>
      </menu>
      <table>
        <thead>
          <tr>
            <th>نام سند</th>
            <th>مالک سند</th>
            <th>زمان آخرین بازدید</th>
            <th>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="none"
                viewBox="0 0 14 14"
              >
                <path
                  fill="#fff"
                  d="M13 8H8v5a1 1 0 1 1-2 0V8H1a1 1 0 0 1 0-2h5V1a1 1 0 0 1 2 0v5h5a1 1 0 1 1 0 2Z"
                />
              </svg>
            </th>
          </tr>
        </thead>
        <tbody>
          {initialDocuments.map((doc, index) => (
            <tr key={doc.id}>
              <td>{doc.name}</td>
              <td>{doc.owner}</td>
              <td>{doc.last_modified_date || "—"}</td>
              <td>
                <Menu.Root openOnHover>
                  <Menu.Trigger>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="4"
                      height="16"
                      fill="none"
                      viewBox="0 0 4 16"
                    >
                      <path
                        fill="#000"
                        d="M2 16c-.55 0-1.02-.196-1.412-.587A1.93 1.93 0 0 1 0 14c0-.55.195-1.021.588-1.412A1.94 1.94 0 0 1 2 12a1.92 1.92 0 0 1 1.413.588c.393.393.589.864.587 1.412a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 16Zm0-6c-.55 0-1.02-.196-1.412-.587A1.93 1.93 0 0 1 0 8c0-.55.195-1.021.588-1.412A1.94 1.94 0 0 1 2 6a1.92 1.92 0 0 1 1.413.588c.393.393.589.864.587 1.412a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 10Zm0-6C1.45 4 .98 3.804.588 3.413A1.93 1.93 0 0 1 0 2C0 1.45.195.979.588.588A1.94 1.94 0 0 1 2 0a1.92 1.92 0 0 1 1.413.588C3.806.981 4.002 1.452 4 2a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 4Z"
                      />
                    </svg>
                  </Menu.Trigger>
                  <Menu.Portal>
                    <Menu.Positioner sideOffset={8}>
                      <Menu.Popup className="user-dashboard-dropdown dropdown-menu">
                        <Menu.Item className="user-dashboard-dropdown dropdown-item">
                          تغییر نام
                        </Menu.Item>
                        <Menu.Item className="user-dashboard-dropdown dropdown-item">
                          حذف
                        </Menu.Item>
                        <Menu.Item className="user-dashboard-dropdown dropdown-item">
                          باز کردن در برگه جدید
                        </Menu.Item>
                      </Menu.Popup>
                    </Menu.Positioner>
                  </Menu.Portal>
                </Menu.Root>
                {/* <button>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="4"
                    height="16"
                    fill="none"
                    viewBox="0 0 4 16"
                  >
                    <path
                      fill="#000"
                      d="M2 16c-.55 0-1.02-.196-1.412-.587A1.93 1.93 0 0 1 0 14c0-.55.195-1.021.588-1.412A1.94 1.94 0 0 1 2 12a1.92 1.92 0 0 1 1.413.588c.393.393.589.864.587 1.412a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 16Zm0-6c-.55 0-1.02-.196-1.412-.587A1.93 1.93 0 0 1 0 8c0-.55.195-1.021.588-1.412A1.94 1.94 0 0 1 2 6a1.92 1.92 0 0 1 1.413.588c.393.393.589.864.587 1.412a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 10Zm0-6C1.45 4 .98 3.804.588 3.413A1.93 1.93 0 0 1 0 2C0 1.45.195.979.588.588A1.94 1.94 0 0 1 2 0a1.92 1.92 0 0 1 1.413.588C3.806.981 4.002 1.452 4 2a1.95 1.95 0 0 1-.587 1.413A1.9 1.9 0 0 1 2 4Z"
                    />
                  </svg>
                </button> */}
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}
